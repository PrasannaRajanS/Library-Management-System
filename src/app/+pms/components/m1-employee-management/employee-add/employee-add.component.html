<form [formGroup]="EmployeeForm">
    <div class="grid">
        <div class="col-12 md:col-12">
            <div class="card">
                <h5>ADD EMPLOYEE</h5>
                <p-toolbar styleClass="mb-4">
                    <ng-template pTemplate="left">
                        <div class="my-2">
                        </div>
                    </ng-template>

                    <ng-template pTemplate="right">

                        <button pButton pRipple icon="pi pi-save" class="p-button-success mr-2" (click)="Save()"
                            [disabled]="!EmployeeForm.valid">{{buttonText}}</button>

                        <button pButton pRipple label="List" icon="pi pi-align-justify" class="p-button-primary mr-2"
                            (click)="RedirecttoList()"></button>

                        <button pButton pRipple label="Clear" icon="pi pi-refresh" class="p-button-warning"
                            (click)="Clear()"></button>

                    </ng-template>


                </p-toolbar>
                <p-toast></p-toast>

                <p-tabView orientation="left">

                    <p-tabPanel header="Profile" class="line-height-3 m-0">
                        <div class="grid p-fluid">
                            <div class="col-12 md:col-6">
                                <div class="flex flex-column align-items-center  surface-border p-6"  >
                                    <img [src]="selectedEmployeeImageURL" 
                                    pTooltip="Click Here Replace Photo" 
                                    tooltipPosition="right" 
                                    class="w-10rem h-10rem border-circle shadow-4" 
                                    alt="Employee Photo" (click)="FileInput.click()">
                                </div>
                                <input type="file" id="avatar" (change)="getSelectedFile($event)" accept='image/*' style="display:none" #FileInput />

                                <div class="card">
                                    <h5>Personal Info</h5>
                                    <div class="grid formgrid">

                                        <div class="col-12 md:col-6 mb-3">
                                            <span class="p-float-label">
                                                <input id="txtEmployeeNo" pInputText formControlName="employeeNo">
                                                <label for="txtEmployeeNo">Employee No</label>
                                            </span>
                                        </div>

                                        <div class="col-12 md:col-6 mb-3">
                                            <span class="p-float-label">
                                                    <p-dropdown id="ddlSalutation" 
                                                            formControlName="selectedSalutation"
                                                            [options]="salutationList" 
                                                            optionLabel="salutationName" 
                                                            [autoDisplayFirst]="false"
                                                            [showClear]="true">
                                                    </p-dropdown>
                                                <label for="ddlSalutation">Salutation</label>
                                            </span>
                                        </div>

                                        <div class="field col-12 md:col-6 mb-3">
                                            <span class="p-float-label">
                                                <input id="firstName" pInputText formControlName="firstName">
                                                <label for="firstName">First Name</label>
                                            </span>
                                            <small id="firstName">{{ formError("firstName" ,EmployeeForm)}}</small>
                                        </div>

                                        <div class="col-12 md:col-6 mb-3">
                                            <span class="p-float-label">
                                                <input id="lastName" pInputText formControlName="lastName">
                                                <label for="lastName">Last Name</label>
                                            </span>
                                        </div>

                                        <div class="col-12 md:col-6 mb-3">
                                            <span class="p-float-label">
                                                <input id="nickName" pInputText formControlName="nickName">
                                                <label for="nickName">Nick Name</label>
                                            </span>
                                        </div>

                                        <div class="col-12 md:col-6 mb-3">
                                            <span class="p-float-label">
                                            <p-dropdown id="ddlGender" 
                                                    formControlName="selectedGender"
                                                    [options]="genderList" 
                                                    optionLabel="genderName" 
                                                    [autoDisplayFirst]="false"
                                                    [showClear]="true">
                                            </p-dropdown>
                                                <label for="ddlGender">Gender</label>
                                            </span>
                                        </div>

                                        <div class="col-12 md:col-6 mb-3">
                                            <span class="p-float-label">
                                                <p-calendar formControlName="dob" id="dob"></p-calendar>
                                                <label for="dob">DOB</label>
                                            </span>
                                        </div>

                                        <div class="col-12 md:col-6 mb-3">
                                            <span class="p-float-label">
                                                <input id="age" pInputText formControlName="age">
                                                <label for="age">Age</label>
                                            </span>
                                        </div>
                                    </div>

                                    <h5>Present Address</h5>
                                    <div class="grid formgrid">

                                        <div class="col-12 md:col-6 mb-3">
                                            <span class="p-float-label">
                                                <input id="txtaddress1" pInputText formControlName="address1">
                                                <label for="txtaddress1">Address 1</label>
                                            </span>
                                        </div>

                                        <div class="col-12 md:col-6 mb-3">
                                            <span class="p-float-label">
                                                <input pInputText id="txtaddress2" formControlName="address2">
                                                <label for="txtaddress2">Address 2</label>
                                            </span>
                                        </div>

                                        <div class="col-12 md:col-6 mb-3">
                                            <span class="p-float-label">
                                                <input pInputText id="txtAddress3" formControlName="address3">
                                                <label for="txtAddress3">Address 3</label>
                                            </span>
                                        </div>

                                        <div class="col-12 md:col-6 mb-3">
                                            <span class="p-float-label">
                                                <input pInputText id="txtcity" formControlName="city">
                                                <label for="txtcity">City / Town</label>
                                            </span>
                                        </div>

                                        <div class="field col-12 md:col-6 mb-3">
                                            <span class="p-float-label">
                                                <p-dropdown id="ddlPresentState" 
                                                        formControlName="selectedState"
                                                        [options]="StateList" 
                                                        optionLabel="stateName" 
                                                        [autoDisplayFirst]="false"
                                                        [showClear]="true" [filter]="true">
                                                </p-dropdown>
                                                <label for="ddlPresentState">State</label>
                                            </span>
                                        </div>

                                        <div class="field col-12 md:col-6 mb-3">
                                            <span class="p-float-label">
                                                    <p-dropdown id="ddlPresentCountry" 
                                                        formControlName="selectedCountry"
                                                        [options]="CoutryList" 
                                                        optionLabel="countryName" 
                                                        [autoDisplayFirst]="false"
                                                        [showClear]="true" [filter]="true">
                                                    </p-dropdown>
                                                <label for="selectedPresentCountry">Country</label>
                                            </span>
                                        </div>

                                        <div class="col-12 md:col-6 mb-3">
                                            <span class="p-float-label">
                                                <input id="presentPIN" pInputText formControlName="pinCode">
                                                <label for="presentPIN">PIN</label>
                                            </span>
                                        </div>

                                    </div>

                                    <h5>Permanent Address</h5>
                                    <div class="grid formgrid">
                                        <div class="col-12 md:col-6 mb-3">
                                            <!-- Span no need here -->
                                            <span class="p-float-label">
                                                <input id="" type="checkbox" value="Same as Present">
                                                <label for="firstname2">Same as Present</label>
                                            </span>


                                        </div>
                                        <div class="col-12 md:col-6 mb-3">
                                            <span class="p-float-label">
                                                <input id="permanentAddress1" pInputText
                                                    formControlName="permanantAddress1">
                                                <label for="permanentAddress1">Address 1</label>
                                            </span>
                                        </div>

                                        <div class="col-12 md:col-6 mb-3">
                                            <span class="p-float-label">
                                                <input id="permanentAddress2" pInputText formControlName="permanantAddress2">
                                                <label for="permanentAddress2">Address 2</label>
                                            </span>

                                        </div>

                                        <div class="col-12 md:col-6 mb-3">
                                            <span class="p-float-label">
                                                <input id="permanentAddress3" pInputText formControlName="permanantAddress3">
                                                <label for="permanentAddress3">Address 3</label>
                                            </span>
                                        </div>

                                        <div class="col-12 md:col-6 mb-3">
                                            <span class="p-float-label">
                                                <input id="permanentCity" pInputText formControlName="permanantCity">
                                                <label for="permanentCity">City / Town</label>
                                            </span>
                                        </div>

                                        <div class="col-12 md:col-6 mb-3">
                                            <span class="p-float-label">
                                                <p-dropdown id="ddlPermanentState" 
                                                        formControlName="permanantSelectedState"
                                                        [options]="permanantStateList" 
                                                        optionLabel="stateName" 
                                                        [autoDisplayFirst]="false"
                                                        [showClear]="true" 
                                                        [filter]="true">
                                                </p-dropdown>
                                                <label for="ddlPermanentState">State</label>
                                            </span>
                                        </div>

                                        <div class="col-12 md:col-6 mb-3">
                                            <span class="p-float-label">

                                                <p-dropdown id="ddlPermanentCountry" 
                                                    formControlName="permanantSelectedCountry"
                                                    [options]="permanantCoutryList" 
                                                    optionLabel="countryName" 
                                                    [autoDisplayFirst]="false"
                                                    [showClear]="true" [filter]="true">
                                                </p-dropdown>

                                                <label for="ddlPermanentCountry">Country</label>
                                            </span>
                                        </div>

                                        <div class="col-12 md:col-6 mb-3">
                                            <span class="p-float-label">
                                                <input id="permanentPIN" pInputText formControlName="permanantPINCode">
                                                <label for="permanentPIN">PIN</label>
                                            </span>
                                        </div>

                                    </div>

                                </div>
                            </div>

                            <div class="col-12 md:col-6 mb-3">
                                <div class="card">
                                    <h5>Organizational Info</h5>
                                    <div class="grid formgrid">

                                        <div class="col-12 md:col-6 mb-3">
                                            <span class="p-float-label">
                                                <input id="officialEmail" pInputText formControlName="officialEmail">
                                                <label for="officialEmail">Official Email</label>
                                            </span>
                                        </div>

                                        <div class="col-12 md:col-6 mb-3">
                                            <span class="p-float-label">
                                                <input id="officialMobile" pInputText formControlName="officialMobile">
                                                <label for="officialMobile">Official Mobile</label>
                                            </span>
                                        </div>

                                        <div class="field col-12 md:col-6 mb-3">
                                            <span class="p-float-label">
                                                <p-calendar id="dateOfJoin" formControlName="dateofJoin"></p-calendar>
                                                <label for="dateOfJoin">Date of Join *</label>
                                            </span>
                                        </div>

                                        <div class="col-12 md:col-6 mb-3 field">
                                            <span class="p-float-label">
                                                <p-autoComplete id="employeeCategory"
                                                    (completeMethod)="filterMagePage($event)" [minLength]="0"
                                                    [dropdown]="true" [forceSelection]="true" field="employeeCategory"
                                                    formControlName="selectedEmployeeCategory"></p-autoComplete>
                                                <label for="employeeCategory">Employee Category *</label>
                                            </span>
                                        </div>

                                        <div class="col-12 md:col-6 mb-3 field">
                                            <span class="p-float-label">
                                                <p-autoComplete id="deptSection"
                                                    (completeMethod)="filterMagePage($event)" [minLength]="0"
                                                    [dropdown]="true" [forceSelection]="true" field="deptSection"
                                                    formControlName="selectedDepartment"></p-autoComplete>
                                                <label for="deptSection">Department</label>
                                            </span>
                                        </div>

                                        <div class="col-12 md:col-6 mb-3 ">
                                            <span class="p-float-label">
                                                <p-autoComplete id="production"
                                                    (completeMethod)="filterMagePage($event)" [minLength]="0"
                                                    [dropdown]="true" [forceSelection]="true" field="production"
                                                    formControlName="selectedSection"></p-autoComplete>
                                                <label for="production">Sub Department</label>
                                            </span>
                                        </div>


                                        <div class="col-12 md:col-6 mb-3 field">
                                            <span class="p-float-label">
                                                <p-autoComplete id="typeOfEmployment"
                                                    (completeMethod)="filterMagePage($event)" [minLength]="0"
                                                    [dropdown]="true" [forceSelection]="true" field="typeOfEmployment"
                                                    formControlName="selectedEmployeementType"></p-autoComplete>
                                                <label for="typeOfEmployment">Type of Employment</label>
                                            </span>
                                        </div>

                                        <div class="col-12 md:col-6 mb-3">
                                            <span class="p-float-label">
                                                <p-dropdown id="role" optionLabel="roleName" [autoDisplayFirst]="false"
                                                    [showClear]="true" formControlName="selectedReportingTo">
                                                </p-dropdown>
                                                <label for="role">Reporting To</label>
                                            </span>
                                        </div>


                                        <div class="col-12 md:col-6 mb-3 field">
                                            <span class="p-float-label">
                                                <p-autoComplete id="salaryType"
                                                    (completeMethod)="filterMagePage($event)" [minLength]="0"
                                                    [dropdown]="true" [forceSelection]="true" field="salaryType"
                                                    formControlName="selectedSalaryType"></p-autoComplete>
                                                <label for="salaryType">Salary Type *</label>
                                            </span>
                                        </div>

                                        <div class="col-12 md:col-6 mb-3 field">
                                            <span class="p-float-label">
                                                <p-dropdown id="workingLocation" optionLabel="workingLocation"
                                                    [autoDisplayFirst]="false" [showClear]="true"
                                                    formControlName="selectedLocation">
                                                </p-dropdown>
                                                <label for="workingLocation">Working Location *</label>
                                            </span>
                                        </div>

                                        <div class="col-12 md:col-6 mb-3">
                                            <span class="p-float-label">
                                                <p-autoComplete id="mainPageName"
                                                    (completeMethod)="filterMagePage($event)" [minLength]="0"
                                                    [dropdown]="true" [forceSelection]="true" field="mainPageName"
                                                    formControlName="selectedShift"></p-autoComplete>
                                                <label for="mainPageName">Shift</label>
                                            </span>
                                        </div>

                                        <div class="col-12 md:col-6 mb-3 field">
                                            <span class="p-float-label">
                                                <p-dropdown id="designationJobTitle" optionLabel="roleName"
                                                    [autoDisplayFirst]="false" [showClear]="true"
                                                    formControlName="selectedDesignation">
                                                </p-dropdown>
                                                <label for="designationJobTitle">Designation (Job Title) *</label>
                                            </span>
                                        </div>
                                    </div>

                                </div>



                                <div class="card">
                                    <h5>Emergency Contact Info</h5>
                                    <div class="grid formgrid">

                                        <div class="col-12 md:col-6 mb-3 field">
                                            <span class="p-float-label">
                                                <input id="contactPerson1" pInputText formControlName="contactPerson1">
                                                <label for="contactPerson1">Contact Person 1 *</label>
                                            </span>
                                        </div>

                                        <div class="col-12 md:col-6 mb-3 field">
                                            <span class="p-float-label">
                                                <input id="mobileNo1" pInputText formControlName="contactPersonMobileNo1">
                                                <label for="mobileNo1">Mobile No 1 *</label>
                                            </span>
                                        </div>

                                        <div class="col-12 md:col-6 mb-3">
                                            <span class="p-float-label">
                                                <input id="contactPerson2" pInputText formControlName="contactPerson2">
                                                <label for="contactPerson2">Contact Person 2</label>
                                            </span>
                                        </div>

                                        <div class="col-12 md:col-6 mb-3">
                                            <span class="p-float-label">
                                                <input id="mobileNo2" pInputText formControlName="contactPersonMobileNo2">
                                                <label for="mobileNo2">Mobile No 2</label>
                                            </span>
                                        </div>

                                        <div class="col-12 md:col-6 mb-3">
                                            <span class="p-float-label">
                                                <p-dropdown id="ddlBloodGroup" 
                                                        formControlName="selectedBloodGroup"
                                                        [options]="bloodGroupList" 
                                                        optionLabel="bloodGroupName" 
                                                        [autoDisplayFirst]="false"
                                                        [showClear]="true">
                                                </p-dropdown>
                                                <label for="ddlBloodGroup">Blood Group</label>
                                            </span>
                                        </div>
                                    </div>

                                </div>


                                <div class="card">
                                    <h5>Unique Number Info</h5>
                                    <div class="grid formgrid">
                                        <div class="col-12 md:col-6 mb-3 field">
                                            <span class="p-float-label">
                                                <input id="nationality" pInputText formControlName="selectedNationality">
                                                <label for="nationality">Nationality *</label>
                                            </span>
                                        </div>

                                        <div class="col-12 md:col-6 mb-3 field">
                                            <span class="p-float-label">
                                                <input id="community" pInputText formControlName="selectedCommunity">
                                                <label for="community">Community *</label>
                                            </span>
                                        </div>


                                        <div class="col-12 md:col-6 mb-3 field">
                                            <span class="p-float-label">
                                                <input id="PANNo" pInputText formControlName="panNo">
                                                <label for="PANNo">PAN No *</label>
                                            </span>
                                        </div>

                                        <div class="col-12 md:col-6 mb-3 field">
                                            <span class="p-float-label">
                                                <input id="aadhaarNo" pInputText formControlName="aadhaarNo">
                                                <label for="aadhaarNo">Aadhaar No *</label>
                                            </span>
                                        </div>

                                        <div class="col-12 md:col-6 mb-3">
                                            <span class="p-float-label">
                                                <input id="UANNo" pInputText formControlName="uanNo">
                                                <label for="UANNo">UAN No</label>
                                            </span>
                                        </div>

                                        <div class="col-12 md:col-6 mb-3">
                                            <span class="p-float-label">
                                                <input id="ESINo" pInputText formControlName="esiNo">
                                                <label for="ESINo">ESI No</label>
                                            </span>
                                        </div>
                                        <div class="col-12 md:col-6 mb-3">
                                            <span class="p-float-label">
                                                <input id="EPFNo" pInputText formControlName="epfNo">
                                                <label for="EPFNo">EPF No</label>
                                            </span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>


                    </p-tabPanel>

                    <p-tabPanel header="Education" class="line-height-3 m-0">
                        <div class="grid p-fluid m-3">
                            <div class="grid formgrid">

                                <div class="field col-12 md:col-3 mb-3">

                                    <span class="p-float-label">
                                        <p-autoComplete id="mainPageName" (completeMethod)="filterMagePage($event)"
                                            [minLength]="0" [dropdown]="true" [forceSelection]="true"
                                            field="mainPageName"></p-autoComplete>

                                        <label for="mainPageName">Qualification</label>
                                    </span>
                                </div>

                                <div class="field col-12 md:col-3 mb-3">
                                    <span class="p-float-label">

                                        <p-dropdown id="course" optionLabel="roleName" [autoDisplayFirst]="false"
                                            [showClear]="true">
                                        </p-dropdown>
                                        <label for="course">Course<span class="mandatory">*</span></label>
                                    </span>

                                </div>

                                <div class="field col-12 md:col-3 mb-3">
                                    <span class="p-float-label">

                                        <p-dropdown id="specialisation" optionLabel="roleName"
                                            [autoDisplayFirst]="false" [showClear]="true">
                                        </p-dropdown>
                                        <label for="specialisation">Specialisation<span
                                                class="mandatory">*</span></label>
                                    </span>

                                </div>

                                <div class="field" class="field col-12 md:col-3 mb-3">
                                    <span class="p-float-label">
                                        <input id="" pInputText id="majorQualification" />
                                        <label for="majorQualification">School/Institute/University</label>
                                    </span>
                                </div>


                                <div class="field col-12 md:col-3 mb-3">
                                    <span class="p-float-label">

                                        <p-autoComplete id="modeOfStudy" (completeMethod)="filterMagePage($event)"
                                            [minLength]="0" [dropdown]="true" [forceSelection]="true"
                                            field="mainPageName"></p-autoComplete>

                                        <label for="modeOfStudy">Mode of Study</label>
                                    </span>

                                </div>

                                <div class="field" class="field col-12 md:col-3 mb-3">
                                    <span class="p-float-label">
                                        <input id="PercentageCGPA" pInputText id="Percentage" />
                                        <label for="PercentageCGPA">Percentage / CGPA</label>
                                    </span>

                                </div>

                                <div class="field" class="field col-12 md:col-3 mb-3">
                                    <span class="p-float-label">
                                        <p-calendar id="YearOfPassing" [readonlyInput]="true" view="year"
                                            dateFormat="yy" inputId="yearpicker"></p-calendar>
                                        <label for="YearOfPassing">Year Of Passing</label>
                                    </span>
                                </div>


                                <div class="formgrid grid pl-6" >
                                    <div class="field col">
                                        <button pButton pRipple label="New" icon="pi pi-plus" class="p-button-success mr-2" (click)="openEducationDialog()"></button>
                                    </div>
        
                                    <div class="field col">
                                        <button pButton pRipple label="New" icon="pi pi-plus" class="p-button-success mr-2" (click)="openEducationDialog()"></button>
                                    </div>
                                </div>



                            </div>
                        </div>

                        <div class="grid">
                            <div class="col-12">
                                <div class="card px-6 py-6">
                                    <p-table #dt [value]="items" [columns]="cols" responsiveLayout="scroll" [rows]="10"
                                        [globalFilterFields]="['applicationName']" [rows]="10" [paginator]="true"
                                        [rowsPerPageOptions]="[10,20,30]" [showCurrentPageReport]="true"
                                        currentPageReportTemplate="Showing {first} to {last} of {totalRecords} entries"
                                        [rowHover]="true" dataKey="id">


                                        <ng-template pTemplate="caption">
                                            <div
                                                class="flex flex-column md:flex-row md:justify-content-between md:align-items-center">
                                                <!-- <button pButton pRipple label="New" icon="pi pi-plus" class="p-button-success mr-2" (click)="openEducationDialog()"></button> -->

                                                <span class="block mt-2 md:mt-0 p-input-icon-left">
                                                    <i class="pi pi-search"></i>
                                                    <input id="" pInputText (input)="onGlobalFilter(dt, $event)"
                                                        placeholder="Search..." class="w-full sm:w-auto" />
                                                </span>
                                            </div>
                                        </ng-template>



                                        <ng-template pTemplate="header">
                                            <tr>
                                                <th style="width:10% !important" class="text-center">
                                                    <button pButton pRipple icon="pi pi-plus" class="p-button-rounded p-button-success mr-2"  (click)="AddEducationRows()"></button>
                                                </th>
                                                <th style="width: 3rem">
                                                    S.No
                                                </th>
                                                <!-- Should change the field name -->
                                                <th pSortableColumn="name">Qualification<p-sortIcon
                                                        field="applicationName"></p-sortIcon></th>
                                                <th>Course</th>
                                                <th>Specialisation</th>
                                                <th>School/Institute/University</th>
                                                <th>Percentage / CGPA</th>
                                                <th>Year Of Passing</th>
                                                <th>Mode of Study</th>
                                                <th>Action</th>

                                            </tr>
                                        </ng-template>

                                        <ng-template pTemplate="body" let-item let-i="rowIndex">
                                            <tr>
                                
                                                <td style="width:10% !important" class="text-center">
                                                    <button pButton pRipple icon="pi pi-trash" class="p-button-rounded p-button-warning"
                                                        (click)="RemoveEducationRows(item,i)"></button>
                                                </td>
                                
                                                <td style="width:10% !important" class="text-center">
                                                    <section>
                                                        <label class="checkbox">
                                                            <p-checkbox name="chkEdit" id="chkEdit" [(ngModel)]="item.edit"  inputId="binary"></p-checkbox>
                                                            <i></i>
                                                        </label>
                                                    </section>
                                                </td>
                                
                                                <td style="width:5% !important" class="text-center">{{i+1}}</td>
                                
                                                <td style="width:30% !important">
                                                    <input pInputText type="text"  [disabled]="!item.edit" id="txtmiscDtlName"
                                                     name="txtmiscDtlName" [(ngModel)]="item.miscDtlName" style="width: 100% !important;">
                                                </td>
                                
                                                <td style="width:25% !important" class="text-center">
                                                    <input pInputText type="text"  [disabled]="!item.edit" id="txtmiscDtlDesc"
                                                     name="txtmiscDtlDesc" [(ngModel)]="item.miscDtlDesc" style="width: 100% !important;">
                                                </td>
                                
                                            </tr>
                                        </ng-template>


                                    </p-table>


                                </div>
                            </div>
                        </div>
                    </p-tabPanel>

                    <p-tabPanel header="Experience" class="line-height-3 m-0">
                        <div class="grid p-fluid m-3">
                            <div class="grid formgrid">


                                <div class="field col-12 md:col-3 mb-3">
                                    <span class="p-float-label">
                                        <input pInputText id="PreviousCompanyName" />
                                        <label for="PreviousCompanyName">Previous Company Name</label>
                                    </span>

                                </div>


                                <div class="field col-12 md:col-3 mb-3">
                                    <span class="p-float-label">
                                        <p-calendar id="StartingDate"></p-calendar>
                                        <label for="StartingDate">Starting Date</label>
                                    </span>
                                </div>

                                <div class="field col-12 md:col-3 mb-3">
                                    <span class="p-float-label">
                                        <p-calendar id="EndingDate"></p-calendar>
                                        <label for="EndingDate">Ending Date</label>
                                    </span>

                                </div>

                                <div class="field col-12 md:col-3 mb-3">
                                    <span class="p-float-label">
                                        <input pInputText id="Experience" />
                                        <label for="Experience">Experience</label>
                                    </span>
                                </div>

                                <div class="field col-12 md:col-3 mb-3">

                                    <span class="p-float-label">

                                        <p-autoComplete id="jobTitle" (completeMethod)="filterMagePage($event)"
                                            [minLength]="0" [dropdown]="true" [forceSelection]="true"
                                            field="mainPageName"></p-autoComplete>

                                        <label for="jobTitle">Job Title</label>
                                    </span>

                                </div>
                                <div class="field col-12 md:col-3 mb-3">
                                    <span class="p-float-label">
                                        <input pInputText id="jobDescription" />
                                        <label for="jobDescription">Job Description</label>
                                    </span>


                                </div>

                                <div class="field col-12 md:col-3 mb-3">
                                    <span class="p-float-label">
                                        <input pInputText id="reasonForChange" />
                                        <label for="reasonForChange">Reason For Change</label>
                                    </span>


                                </div>


                            </div>
                        </div>
                        <div class="grid">
                            <div class="col-12">
                                <div class="card px-6 py-6">
                                    <p-table #dt [value]="items" [columns]="cols" responsiveLayout="scroll" [rows]="10"
                                        [globalFilterFields]="['applicationName']" [rows]="10" [paginator]="true"
                                        [rowsPerPageOptions]="[10,20,30]" [showCurrentPageReport]="true"
                                        currentPageReportTemplate="Showing {first} to {last} of {totalRecords} entries"
                                        [rowHover]="true" dataKey="id">


                                        <ng-template pTemplate="caption">
                                            <div
                                                class="flex flex-column md:flex-row md:justify-content-between md:align-items-center">
                                                <h4 class="m-0"> </h4>
                                                <span class="block mt-2 md:mt-0 p-input-icon-left">
                                                    <i class="pi pi-search"></i>
                                                    <input pInputText (input)="onGlobalFilter(dt, $event)"
                                                        placeholder="Search..." class="w-full sm:w-auto" />
                                                </span>
                                            </div>
                                        </ng-template>



                                        <ng-template pTemplate="header">
                                            <tr>
                                                <th style="width:10% !important" class="text-center">
                                                    <button pButton pRipple icon="pi pi-plus" class="p-button-rounded p-button-success mr-2"  (click)="AddWorkExperience()"></button>
                                                </th>
                                                <th style="width: 3rem">
                                                    S.No
                                                </th>
                                                <th pSortableColumn="name">Company Name<p-sortIcon
                                                        field="applicationName"></p-sortIcon></th>
                                                <th>From Date</th>
                                                <th>To Date</th>
                                                <th>Experience</th>
                                                <th>Job Title</th>
                                                <th>Reason For Change</th>
                                                <th>Action</th>

                                            </tr>
                                        </ng-template>

                                        <ng-template pTemplate="body" let-item let-i="rowIndex">
                                            <tr>
                                
                                                <td style="width:10% !important" class="text-center">
                                                    <button pButton pRipple icon="pi pi-trash" class="p-button-rounded p-button-warning"
                                                        (click)="RemoveWorkExperienceRows(item,i)"></button>
                                                </td>
                                
                                                <td style="width:10% !important" class="text-center">
                                                    <section>
                                                        <label class="checkbox">
                                                            <p-checkbox name="chkEdit" id="chkEdit" [(ngModel)]="item.edit"  inputId="binary"></p-checkbox>
                                                            <i></i>
                                                        </label>
                                                    </section>
                                                </td>
                                
                                                <td style="width:5% !important" class="text-center">{{i+1}}</td>
                                
                                                <td style="width:30% !important">
                                                    <input pInputText type="text"  [disabled]="!item.edit" id="txtmiscDtlName"
                                                     name="txtmiscDtlName" [(ngModel)]="item.miscDtlName" style="width: 100% !important;">
                                                </td>
                                
                                                <td style="width:25% !important" class="text-center">
                                                    <input pInputText type="text"  [disabled]="!item.edit" id="txtmiscDtlDesc"
                                                     name="txtmiscDtlDesc" [(ngModel)]="item.miscDtlDesc" style="width: 100% !important;">
                                                </td>
                                
                                            </tr>
                                        </ng-template>



                                    </p-table>


                                </div>
                            </div>
                        </div>

                    </p-tabPanel>

                    <p-tabPanel header="Family" class="line-height-3 m-0">

                        <div class="grid p-fluid m-3">
                            <h5>Family Information</h5>
                            <div class="grid formgrid">

                                <div class="field col-12 md:col-3 mb-3">
                                    <span class="p-float-label">
                                        <input id="familyPerson1fullName" pInputText />
                                        <label for="familyPerson1fullName"> Full Name*</label>
                                    </span>

                                </div>
                                <div class="field col-12 md:col-3 mb-3">
                                    <span class="p-float-label">
                                        <input id="employee1Relationship" pInputText />
                                        <label for="employee1Relationship">Relationship*</label>
                                    </span>

                                </div>
                                <div class="field col-12 md:col-3 mb-3">
                                    <span class="p-float-label">
                                        <input id="relation1ContactNo" pInputText />
                                        <label for="relation1ContactNo"> Contact No*</label>
                                    </span>

                                </div>
                                <div class="field col-12 md:col-3 mb-3">
                                    <span class="p-float-label">
                                        <p-dropdown id="relation1Gender" formControlName="selectedGender"
                                            [options]="genderOptions" placeholder="Gender"></p-dropdown>
                                        <label for="relation1Gender"> Gender*</label>
                                    </span>

                                </div>
                                <div class="field col-12 md:col-3 mb-3">
                                    <span class="p-float-label">
                                        <input id="familyPerson2fullName" pInputText />
                                        <label for="familyPerson2fullName"> Full Name</label>
                                    </span>

                                </div>
                                <div class="field col-12 md:col-3 mb-3">
                                    <span class="p-float-label">
                                        <input id="employee2Relationship" pInputText />
                                        <label for="employee2Relationship">Relationship</label>
                                    </span>

                                </div>
                                <div class="field col-12 md:col-3 mb-3">
                                    <span class="p-float-label">
                                        <input id="relation2ContactNo" pInputText />
                                        <label for="relation2ContactNo"> Contact No</label>
                                    </span>

                                </div>
                                <div class="field col-12 md:col-3 mb-3">
                                    <span class="p-float-label">
                                        <p-dropdown id="relation2Gender" formControlName="selectedGender"
                                            [options]="genderOptions" placeholder="Gender"></p-dropdown>
                                        <label for="relation2Gender"> Gender</label>
                                    </span>

                                </div>

                            </div>

                        </div>

                    </p-tabPanel>

                    <p-tabPanel header="Asset" class="line-height-3 m-0">
                    </p-tabPanel>

                    <p-tabPanel header="Benefit" class="line-height-3 m-0">

                        <div class="grid p-fluid m-3">
                            <h5>Benefits</h5>
                            <div class="grid formgrid">

                                <div class="field col-12 md:col-3 mb-3">
                                    <span class="p-float-label">
                                        <input id="employeeRetirementPlan" pInputText />
                                        <label for="employeeRetirementPlan">Retirement Plan</label>
                                    </span>

                                </div>
                                <div class="field col-12 md:col-3 mb-3">
                                    <span class="p-float-label">
                                        <input id="employeeEducationalPlan" pInputText />
                                        <label for="employeeEducationalPlan">Educational Plan</label>
                                    </span>

                                </div>
                                <div class="field col-12 md:col-3 mb-3">
                                    <span class="p-float-label">
                                        <input id="employeeHealthInsurance" pInputText />
                                        <label for="employeeHealthInsurance">Health Insurance</label>
                                    </span>

                                </div>

                                <div class="field col-12 md:col-3 mb-3">
                                    <span class="p-float-label">
                                        <input id="employeeLifeInsurance" pInputText />
                                        <label for="employeeLifeInsurance">Life Insurance</label>
                                    </span>

                                </div>

                                <div class="field col-12 md:col-3 mb-3">
                                    <span class="p-float-label">
                                        <input id="employeeDisabilityInsuarance" pInputText />
                                        <label for="employeeDisabilityInsuarance">Disability Insuarance</label>
                                    </span>

                                </div>


                                <div class="field col-12 md:col-3 mb-3">
                                    <span class="p-float-label">
                                        <input id="employeeOtherPlan" pInputText />
                                        <label for="employeeOtherPlan"> Other Plan</label>
                                    </span>

                                </div>


                            </div>

                        </div>

                    </p-tabPanel>


                    <p-tabPanel header="Exit Details" class="line-height-3 m-3">

                        <h5>Add Exit Details</h5>

                        <div class="grid p-fluid formgrid">
                            <div class=" col-12 md:col-6 mb-3">
                                <span class="p-float-label">
                                    <p-calendar id="employeeSeparationDate"></p-calendar>
                                    <label for="employeeSeparationDate">Separation date</label>
                                </span>

                            </div>

                            <div class=" col-12 md:col-6 mb-3">
                                <span class="p-float-label">
                                    <input id="employeeReasonForLeaving" pInputText>
                                    <label for="employeeReasonForLeaving">Reason for Leaving</label>
                                </span>
                            </div>

                        </div>

                        <h5>Questionairre</h5>
                        <div class="grid p-fluid formgrid">


                            <div class="col-12 md:col-6 mb-3">
                                <label class="ml-1">Working for this organization again
                                    <p-radioButton label="Yes" name="opinion" class="ml-1"></p-radioButton>
                                    <p-radioButton label="No" class="ml-1" name="opinion"></p-radioButton>
                                </label>
                            </div>


                            <div class="col-12 md:col-6 mb-3">
                                <span class="p-float-label">
                                    <input id="employeeOpinion1" pInputText>
                                    <label for="employeeOpinion1">Think the organization do to improve staff
                                        welfare</label>
                                </span>
                            </div>

                            <div class="col-12 md:col-6 mb-3">
                                <span class="p-float-label">
                                    <input id="employeeOpinion2" pInputText>
                                    <label for="employeeOpinion2 ">What did you like the most of the
                                        organization</label>
                                </span>
                            </div>

                            <div class="col-12 md:col-6 mb-3">
                                <span class="p-float-label">
                                    <input id="employeeOpinion3" pInputText>
                                    <label for="employeeOpinion3">Anything you wish to share with us</label>
                                </span>

                            </div>


                        </div>
                        <h5>Checklist for Exit Interview</h5>
                        <div class="grid p-fluid formgrid">

                            <div class="col-12 md:col-6 mb-3">
                                <span class="p-float-label">
                                    <input id="employeeFinalChecking1" pInputText>
                                    <label for="employeeFinalChecking1">Company Vehicle handed in</label>
                                </span>
                            </div>

                            <div class="col-12 md:col-6 mb-3">
                                <span class="p-float-label">
                                    <input id="employeeFinalChecking2" pInputText>
                                    <label for="employeeFinalChecking2">All equipments handed in</label>
                                </span>
                            </div>

                            <div class="col-12 md:col-6 mb-3">
                                <span class="p-float-label">
                                    <input id="employeeFinalChecking3" pInputText>
                                    <label for="employeeFinalChecking3">Exit interview conducted</label>
                                </span>
                            </div>

                            <div class="col-12 md:col-6 mb-3">
                                <span class="p-float-label">
                                    <input id="employeeFinalChecking4" pInputText>
                                    <label for="employeeFinalChecking4">Resignation letter submitted</label>
                                </span>
                            </div>

                            <div class="col-12 md:col-6 mb-3">
                                <span class="p-float-label">
                                    <input id="employeeFinalChecking5" pInputText>
                                    <label for="employeeFinalChecking5">Security</label>
                                </span>
                            </div>

                            <div class="col-12 md:col-6 mb-3">
                                <span class="p-float-label">
                                    <input id="employeeFinalChecking6" pInputText>
                                    <label for="employeeFinalChecking6">Notice Period Followed</label>
                                </span>
                            </div>

                            <div class="col-12 md:col-6 mb-3">
                                <span class="p-float-label">
                                    <input id="employeeFinalChecking7" pInputText>
                                    <label for="employeeFinalChecking7">Manager / Supervisor clearance</label>
                                </span>
                            </div>

                        </div>

                    </p-tabPanel>

                </p-tabView>

                <p-toolbar styleClass="mb-4">
                    <ng-template pTemplate="left">
                        <div class="my-2">
                        </div>
                    </ng-template>

                    <ng-template pTemplate="right">

                        <button pButton pRipple icon="pi pi-save" class="p-button-success mr-2" (click)="Save()"
                            [disabled]="!EmployeeForm.valid">{{buttonText}}</button>

                        <button pButton pRipple label="List" icon="pi pi-align-justify" class="p-button-primary mr-2"
                            (click)="RedirecttoList()"></button>

                        <button pButton pRipple label="Clear" icon="pi pi-refresh" class="p-button-warning"
                            (click)="Clear()"></button>

                    </ng-template>


                </p-toolbar>

            </div>

        </div>

    </div>
</form>